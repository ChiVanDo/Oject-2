<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="dieuhuong.css">
    <link rel="stylesheet" href="chi_tiet_sp.css">
    <script src="topjs.js"></script>
    <script src="https://kit.fontawesome.com/9d63442f20.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <style>
      #quangcao{
        width: 100%;
        display: flex;
        
      }
      #quangcao_lv2{
        width: 50%;
        margin: auto;
      }
      #thanh_ngan{
        margin-top: 25px;
        background-color: azure;
        text-align: center;
        background-color: rgb(246, 88, 15);
        color: rgb(246, 88, 15);
      }
    </style>
  </head>


<body>
<div id="div_body_lv1">
  <div class="div_body_lv2">
    <div class="login" >
      <a style="text-decoration: none; color: white;" href="them_sp.html">Đăng Nhập<i class="fa-solid fa-right-to-bracket"></i></a>
    </div>
    
    <div class="header_top"  >
      <h1>CHEESE</h1>
      <p>look good , feel good</p>
    </div>
    <div class="dieu_huong">
      <ul>
        <li><a id="a1" href="index.html">HOME</a></li>
        <li><a id="a2" href="top.html">T-SHIRT</a></li>
        <li><a id="a3" href="bottom.html">PANTS</a></li>
        <li><a id="a4" href="#home">SALE</a></li>
        <div class="gio_hang">
          <li><a href="cart.html"><i class="fa-solid fa-cart-arrow-down"></i></a></li>
        </div>
        
      
     </ul>
    </div>
    <!--quang cáo-->
    <div id="quangcao" style="display: block;">
      <div id="quangcao_lv2">
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="logo.png" class="d-block w-100" alt="NOT PICTURE">
            </div>
            <div class="carousel-item">
              <img src="logo2.png" class="d-block w-100" alt="NOT PICTURE">
            </div>
            <div class="carousel-item">
              <img src="logo3.png" class="d-block w-100" alt="NOT PICTURE">
            </div>
          </div>
          <button  class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
    
    <div id="thanh_ngan">
      <p>.</p>
    </div>

    <!--PHẦN CHỨA SẢN PHẨM-->
    <section id="san_pham_lv1">
      <div class="nhieu_sp">
        <!--Noi dung duoc lay tu localStorage-->
      </div>
    </section>
  </div>
</div>

<div style="background-color: rgb(167, 162, 162);">
  <div id = "div_body_lv1" style="margin: auto; display: flex;" >
    <div class="ttct_sp_lv4" style=" width: 80%; margin: auto;">
      <p>CHEESE @facebook/ChiVanDo</p>
    </div>
  </div>
</div>

<script>

  // bước 1 lấy danh sách từ local
  // đoạn này là mới down đoạn json từ local về
  var jsdssp = localStorage.getItem('danhsachsp'); 
  var dssp1 = JSON.parse(jsdssp);
  
  //bước 2 chuyển danh sách đối tượng sp sang đoạn html
  var HTML = chuyenDanhsachdoituongsanphamthanhHTML_TOP(dssp1);
  //bước 3 gán đoạn html vào web
  var nodeSp = document.getElementById('san_pham_lv1');
  nodeSp.innerHTML = HTML;

  // chức năng trả ra id sp được click vào
  // them 1 sp vao dssp cua gio hang trong local stoget
  function them_vao_gio_hang(idsp, size , hinhanh, ten, giaban , sl){
    alert('Đã Thêm Sản Phẩm Thành Công');
    var ds_sp_giohang = laydsspgiohang();
    var flag_check_sp = false;

    for(var i = 0 ; i < ds_sp_giohang.length; i++){
      if(ds_sp_giohang[i] != null && ds_sp_giohang[i].idsp == idsp && ds_sp_giohang[i].size == size){
        ds_sp_giohang[i].soluong += sl ;
        flag_check_sp = true;
      }
    }
    if(flag_check_sp == false){
      var item = taosanphamtronggiohang(idsp, hinhanh, ten, giaban);
      ds_sp_giohang.push(item);
    }
    // b5 luu nguoc lai local
    luudsvaolocal(ds_sp_giohang);
  }
</script>
</body>
</html>